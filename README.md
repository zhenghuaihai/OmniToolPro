# 全能批量工具箱 (Batch Master)

这是一个基于 Python 和 PyQt6 开发的桌面工具，集成了批量文件下载和视频内容分析（语音转文字 + 摘要）功能。

## 功能特性

1.  **批量下载**
    *   支持多链接批量导入。
    *   支持自定义文件名规则（如 `{序号}_{原名}`）。
    *   异步并发下载，速度快，不卡顿。
    *   实时进度显示。

2.  **视频分析**
    *   **语音提取**: 自动从视频中提取音频。
    *   **语音转文字**: 集成 OpenAI Whisper 模型，支持多语言高精度转写。
    *   **智能摘要**: 支持调用 OpenAI API (GPT-3.5/4) 对视频内容进行总结。

## 安装指南

### 1. 环境准备
确保已安装 Python 3.9 或更高版本。

### 2. 安装依赖
在终端中运行以下命令安装所需 Python 库：

```bash
pip install -r requirements.txt
```

### 3. 安装 FFmpeg
视频分析功能依赖 `ffmpeg`。
*   **Mac**: `brew install ffmpeg`
*   **Windows**: 下载 ffmpeg 并添加到环境变量。
*   **Linux**: `sudo apt install ffmpeg`

## 使用说明

### 启动程序
```bash
python main.py
```

### 批量下载
1.  在输入框中粘贴下载链接（每行一个）。
2.  选择保存目录。
3.  （可选）设置文件名规则。
4.  点击“开始下载”。

### 视频分析
1.  在“配置”区域输入你的 OpenAI API Key。
2.  点击“添加视频”选择需要处理的文件。
3.  点击“开始处理”。
4.  程序将自动生成 `_逐字稿.txt` 和 `_摘要.txt` 文件到视频所在目录（或指定目录）。

## 注意事项
*   首次运行视频转写时，Whisper 会自动下载模型文件（约 150MB - 3GB，取决于模型大小），请耐心等待。
*   请确保网络环境可以访问 OpenAI API。

## 扩展开发
本项目采用模块化设计：
*   `core/`: 核心逻辑（下载器、转录器等）。
*   `ui/`: 界面逻辑（各功能页面）。
*   如需添加新功能，只需继承 `QWidget` 创建新页面，并在 `ui/main_window.py` 中注册即可。
